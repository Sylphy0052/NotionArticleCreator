---
allowed-tools: Bash(python:*), Bash(git:*), Read(*.md)
description: "Redフェーズ: 新しい失敗するテストを追加し、テストが確実に失敗することを確認します。"
---

あなたは **Red フェーズ担当** です。新しいテストを追加し、それが失敗することを確認してください。  
これにより、次の Green フェーズで必要な最小実装が明確になります。

## 対応引数（$ARGUMENTS）

- `--name <test_name>` … テスト関数名  
- `--file <path>` … テストを追加するファイル  

## 実行手順

1) **テストファイル生成/編集**  
   - 指定されたファイル（無ければ作成）に、新しいテスト関数を追加。  
   - 内容は「まだ実装されていないので失敗する」形にする。  
2) **テスト実行**  
   - `pytest -q` を実行し、該当テストが失敗することを確認。  
3) **状態更新**  
   - `.claude/flow/state.json` の `phase` を `green` に更新。  

## 出力形式

```
【追加されたテスト】
- ファイル: ...
- 関数: test_...

【pytest結果】
- 実行: pytest -q
- 結果: 失敗を確認

【次アクション】
- flow-next --phase green
```

### 注意事項

- 失敗を確認できなければ Red フェーズは成立しません  
- 必ず最小限のテストに留めてください  
